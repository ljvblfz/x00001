<style>
  .syCckContentPageContent td.ccklongtext, .syCckContentPageContent th.ccklongtext{text-overflow:ellipsis;overflow:hidden;white-space: nowrap; } 
  </style>
<script type="text/javascript">
	$(function() {
		var cckcontentArgs = {};
		findName("cckcontentSearchForm").data("arg", cckcontentArgs);
		var sctGuid = navTab._getParam("sctGuid");
		var masterId = navTab._getParam("masterId");
		var readOnly =  navTab._getParam("readOnly");
		// 	cckcontentArgs.sctGuid=sctGuid;
		var cckajax=findClass("cck-ajax");
		if(cckajax&&cckajax.length>0){
			var url = $(cckajax[0]).attr("href").toString();
			if (url) {
				var strs = url.split("?");
				if (strs[1]) {
					var ss = strs[1].split("&");
					if (ss) {
						for ( var i = 0; i < ss.length; i++) {
							var ps = ss[i].split("=");
							if (ps && ps[0] && ps[1]) {
								if (ps[0] == "sctGuid") {
									sctGuid = ps[1];
								}else if (ps[0] == "masterId") {
									masterId = ps[1];
								}else if (ps[0] == "readOnly") {
									readOnly = ps[1];
								}
							}
						}
					}
				}
			}
		}
 		var  isReadOnly=false;
		if(readOnly&&(readOnly.toLowerCase()=='readonly'||readOnly==true||readOnly=="true" ))
			{
			findName("cckcontentSearchForm").data("isReadOnly",true);
			isReadOnly=true;
// 			$(".toolBar",findName("syCckContentPageContent")).hide();
			}
		findName("cckcontentSearchForm").data("sctGuid", sctGuid);
		findName("cckcontentSearchForm").data("masterId", masterId);
		var arg = findName("cckcontentSearchForm").data("arg");
		if(!arg.numPerPage){
			arg.numPerPage=20;
		}
		if (sctGuid) {
 
			doGetAjax(CPATH.domain_1 + "/rs/cck/dgrid/buildgrid/" + sctGuid+(masterId?("?masterId="+masterId):""),
					arg, function(data) {
						if (!data)
							return;
						if (data.primaryKey) {
						 
							$("[name=SCCGUID]", findName("syCckContentPageContent")).attr("name", data.primaryKey);
						}
						$("[name='cckName']", findName("cckcontentSearchForm")).val(data.cckName);
						
						if (data.searchs && data.searchs.length > 0) {
			 	createSearcheFormForCckContent(data);
						} else {
				$("[layouthcck]", findName("syCckContentPageContent")).attr(
									"layouth", 76);
				$("[layouthcck]", findName("syCckContentPageContent")).attr(
						"layouthcck", 76);
 
				$(".pageHeader", findName("cckcontentSearchForm")).hide();
						}
					var layouthcck=	findName("cckcontenttable").attr("layouthcck" );
					$("[layouthcck]",findName("syCckContentPageContent")).attr("layouth",layouthcck);
						createTableColumnForCckContent(data, sctGuid);
						var searchBar = $(".searchBar",findName("cckcontentSearchForm"));
						searchBar.initUI();
 					$(".pageHeader", findName("cckcontentSearchForm")).parent().resize();
					});
			
			doGetAjax(CPATH.domain_1 + "/rs/syCckTypeButton/"+sctGuid    ,
					arg, function(data) {
						if (!data)
							return;
 					if(!data.jsonData)
 						return;
 					var	  list = data.jsonData;
 				
 					cckContentCreateButtons(list,"syCckContentPageContent",0,isReadOnly);
 					 
					});

		}
	});

</script>
 <iframe name="fileDownFrame" id="fileDownFrame" src="" style="display:none; visibility:hidden;"></iframe>
<form method="get" name="cckcontentSearchForm" class="required-validate" action="/rs/cckcontent" onsubmit="return false;">
	<input type="hidden" class="ignore" name="pageNum" value="1" />
	<input type="hidden" class="ignore" name="cckName" value="cck" />
	<div class="pageHeader">
		<div class="searchBar">
			<div class="subBar">
				<ul>
					<li><div class="buttonActive">
							<div class="buttonContent">
								<button type="button" onclick="cckcontentSearch({pageNum:1})">查询</button>
							</div>
						</div></li>
					<li><div class="buttonActive">
							<div class="buttonContent">
								<button type="button" onclick="resetForm_cckcontent()">清空</button>
							</div>
						</div>
					</li>
				</ul>
			</div>
		</div>
	</div>
</form>
<div class="pageContent syCckContentPageContent" id="cckcontent_pagecontent" name="syCckContentPageContent">
	<div class="panelBar">
		<ul class="toolBar CckToolBar" name>
<!-- 			<li><a name="cckcontent_add" class="add" href="#"><span>添加</span> </a></li> -->
<!-- 			<li><a name="cckcontent_remove" class="delete" href="#"><span>删除</span> </a></li> -->
<!-- 			<li><a name="cckcontent_edit" class="edit" href="#"><span>修改</span> </a></li> -->
		</ul>
	</div>
	<table class="cckcontenttable" name="cckcontenttable" layouthcck="141" width="100%">
		<thead>
			<tr name="cckcontenttr" searchMethod="cckcontentSearch">
				<th width="22"><input  class="ignore checkboxCtrl" type="checkbox" group="sccGuids"  ></th>

			</tr>
		</thead>
		<tbody>
			<tr name="cckcontentTrTemplate" target="slt_uid">
				<td name="SCCGUID" type="check"><input  class="ignore" name="sccGuids" value="" type="checkbox"></td>
			</tr>
		</tbody>
	</table>

	<div class="panelBar">
		<div class="pages">
			<span>显示</span> <select class="combox ignore" name="numPerPage"
				onchange="cckcontentSearch({numPerPage:this.value,pageNum:1})">
				<option value="20">20</option>
				<option value="40">40</option>
				<option value="100">100</option>
				<option value="200">200</option>
			</select> <span name="cckcontentCountDiv">条，共-条</span>
		</div>
		<div name="cckcontentPageBar" class="pagination" searchMethod="cckcontentSearch" targetType="navTab" totalCount="0"
			numPerPage="0" pageNumShown="0" currentPage="0"></div>
	</div>


</div>
